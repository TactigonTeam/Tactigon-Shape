from logging import debug
import os
import time
from typing import Optional
from tactigon_shapes.modules.ironBoy.extension import IronBoyInterface, IronBoyCommand
from tactigon_shapes.modules.shapes.extension import LoggingQueue

def iron_boy_command(ironBoy: Optional[IronBoyInterface], logging_queue: LoggingQueue, cmd: IronBoyCommand, reps: int = 1):
    if ironBoy:
        cmd = ironBoy.command(cmd,reps)
        if not cmd:
            debug(logging_queue, "command error")
    else:
        debug(logging_queue, "ironboy not configured")

if __name__=="__main__":
    ironboy = IronBoyInterface(r"C:\Users\LucaGabello\Desktop\Tactigon-Shape\config\ironBoy")

    ironboy.start()
    time.sleep(5)
    iron_boy_command(ironboy,None,IronBoyCommand.WAVE)
    

    